(this["webpackJsonpreact-single-server"]=this["webpackJsonpreact-single-server"]||[]).push([[0],{105:function(e,t,c){},107:function(e,t,c){},151:function(e,t,c){},245:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(13),s=c.n(r),i=(c(72),c(151),c(31)),o=c(30),l=(c(105),c(29)),u=c.n(l),j=c(44),b=c(282),d="SELECT_FORM",m="MOVIE_DISPLAY",h=function(e){return{type:d,payload:e}},p=c(135),O=c(22),f=(c(107),c(50)),x=c.n(f),g=function(){var e=Object(j.a)(u.a.mark((function e(t,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("/api/users/signup",c);case 3:return n=e.sent,console.log("SignUp Response",n),t({type:d}),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),p.b.error("You have been successfully loggeg out");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,c){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/users/login",t);case 2:return c=e.sent,console.log("Login Response  ",c),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=c(8),y=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),l=s[0],d=s[1],m=Object(n.useState)(null),f=Object(i.a)(m,2),x=(f[0],f[1],Object(O.f)()),g=Object(n.useState)(!1),y=Object(i.a)(g,2),w=y[0],S=(y[1],Object(n.useState)("credentials")),k=Object(i.a)(S,2);k[0],k[1];p.b.config({top:60,rtl:!1});var C=function(){p.b.success("You have been successfully logged in")};function R(){return(R=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v({email:c,password:l}).then((function(e){console.log("res.data  ",e.data),"Login SuccessFull"===e.data.message&&(C(),localStorage.setItem("login",e.data.token),x.push("/homepage"))})).catch((function(e){return x.push("/error")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=Object(o.b)();return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"form loginform",children:[Object(N.jsx)("h4",{style:{margin:"0% 39% 4% 39%",color:"#0077b6"},children:"Login"}),Object(N.jsxs)("form",{children:[Object(N.jsx)("div",{className:"form-outline mb-4",children:Object(N.jsx)(b.a,{className:"textfield",label:"Email, phone, or username",value:c,error:w&&""===c,helperText:w&&""===c?"Required":"",onChange:function(e){a(e.target.value)}})}),Object(N.jsx)("div",{className:"form-outline mb-4",children:Object(N.jsx)(b.a,{className:"textfield",type:"password",label:"Password",value:l,helperText:w&&""===l?"Required":"",error:w&&""===l,onChange:function(e){d(e.target.value)}})}),Object(N.jsxs)("div",{className:"row mb-4",children:[Object(N.jsx)("div",{className:"col d-flex justify-content-center",children:Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)("input",{className:"form-check-input",type:"checkbox",id:"form2Example3"}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"form2Example3",children:"Remember me"})]})}),Object(N.jsx)("div",{className:"col",children:Object(N.jsx)("a",{className:"link",href:"#!",children:"Forgot password?"})})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4 submit-btn",onClick:function(e){return function(e){return R.apply(this,arguments)}(e)},children:"Log In"})," ",Object(N.jsx)("div",{className:"text-center",children:Object(N.jsxs)("p",{children:["Not a member?"," ",Object(N.jsx)("a",{className:"link",onClick:function(){return I(h("SIGN_UP"))},children:"Register"})]})})]})]})})},w=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),l=s[0],u=s[1],j=Object(n.useState)(""),d=Object(i.a)(j,2),m=d[0],p=d[1],O=Object(n.useState)(""),f=Object(i.a)(O,2),x=f[0],v=f[1],y=Object(o.b)();return Object(N.jsx)("div",{className:"main-page-signup",children:Object(N.jsx)("div",{className:"form signup-form",children:Object(N.jsxs)("form",{children:[Object(N.jsx)("h4",{style:{margin:"0% 36%",color:"#0077b6"},children:"Signup"}),Object(N.jsx)("div",{className:"row mb-4",children:Object(N.jsx)("div",{className:"col",children:Object(N.jsx)("div",{className:"form-outline"})})}),Object(N.jsx)("div",{className:"form-outline mb-4",children:Object(N.jsx)(b.a,{className:"textfield",label:"Email",value:l,onChange:function(e){u(e.target.value)}})}),Object(N.jsx)("div",{className:"form-outline mb-4",children:Object(N.jsx)(b.a,{className:"textfield",label:"Username",value:c,onChange:function(e){a(e.target.value)}})}),Object(N.jsx)("div",{className:"form-outline mb-4",children:Object(N.jsx)(b.a,{className:"textfield",label:"Gender",value:m,onChange:function(e){p(e.target.value)}})}),Object(N.jsx)("div",{className:"form-outline mb-4"}),Object(N.jsx)("div",{className:"row mb-4",children:Object(N.jsx)("div",{className:"col",children:Object(N.jsx)("div",{className:"form-outline",children:Object(N.jsx)(b.a,{className:"textfield",type:"password",label:"Password",value:x,onChange:function(e){v(e.target.value)}})})})}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4 submit-btn",onClick:function(e){return function(e){e.preventDefault(),g(y,{userName:c,email:l,password:x,gender:m}).then((function(e){e&&y(h("LOGIN_FORM"))}))}(e)},children:"Submit"}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsxs)("p",{children:["Already registered?"," ",Object(N.jsx)("a",{className:"link",onClick:function(){return y(h("LOGIN_FORM"))},children:"Login"})]})})]})})})},S=function(){var e,t=Object(n.useState)("login"),c=Object(i.a)(t,2),a=(c[0],c[1],Object(o.c)((function(e){return console.log(e),e.form.formDisplay})));return e="LOGIN_FORM"===a?{margin:"-2.5% 10%",padding:"10px 20px"}:{margin:"-2.5% 10%",padding:"20px 20px"},Object(N.jsx)("div",{className:"main-div",children:Object(N.jsxs)("div",{className:"main-page",children:[Object(N.jsx)("div",{style:e,className:"main-form",children:"LOGIN_FORM"===a?Object(N.jsx)(y,{}):Object(N.jsx)(w,{})}),Object(N.jsx)("img",{className:"image-div",src:"https://i.pinimg.com/564x/6b/c9/6f/6bc96febb1036577f1af694d6b1484b1.jpg",alt:"some img"})]})})},k=c(101),C=c(71),R={formDisplay:"LOGIN_FORM"},I={movie:[]},L=Object(k.a)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(C.a)(Object(C.a)({},e),{},{formDisplay:t.payload});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(C.a)(Object(C.a)({},e),{},{movie:t.payload});default:return e}}}),M=Object(k.b)(L),F=c(41),E=(c(174),c(175),c(284)),T=c(288),D=c(136),P=c(286),Y=c(289),_=c(281),G=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/movie");case 2:c=e.sent,console.log("Services  ",c),t({type:m,payload:c.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(u.a.mark((function e(t,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/movie/"+c);case 2:n=e.sent,console.log("getMoviesById  ",n),t({type:m,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(u.a.mark((function e(t,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/movie/search/"+c);case 2:n=e.sent,console.log("getMovieByName  ",n),t({type:m,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),U=c(285),q=c(131),A=c(287),J=c(39);function V(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(O.f)(),s=Object(n.useState)(),l=Object(i.a)(s,2),u=l[0],j=l[1],b=Object(o.b)();p.b.config({top:60,rtl:!1});function d(){localStorage.clear(),p.b.success("You have been successfully loggeg out"),r.push("/")}return window.onload=function(){localStorage.getItem("login")?r.push("/homepage"):r.push("/")},Object(N.jsx)("div",{children:Object(N.jsx)(J.d,{sticky:!0,expand:"lg",light:!0,bgColor:"white",children:Object(N.jsxs)(J.b,{fluid:!0,children:[Object(N.jsx)(J.e,{className:"app-name",children:"Movies"}),Object(N.jsx)(J.i,{"aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return a(!c)},children:Object(N.jsx)(J.c,{icon:"bars",fas:!0})}),Object(N.jsxs)(J.a,{navbar:!0,show:c,children:[Object(N.jsxs)(J.h,{className:"mr-auto mb-2 mb-lg-0",children:[Object(N.jsx)(J.f,{children:Object(N.jsx)(F.b,{to:"/homepage",children:Object(N.jsx)(J.g,{href:"#",children:"Home"})})}),Object(N.jsx)(J.f,{children:Object(N.jsx)(J.g,{href:"#",tabIndex:-1,"aria-disabled":"true",children:Object(N.jsx)("h6",{style:{margin:"4.6% 0%"},onClick:function(){return d()},children:"Logout"})})})]}),Object(N.jsxs)(U.a,{style:{display:"grid",width:"40%",gridTemplateColumns:"65% 35%"},inline:!0,children:[Object(N.jsx)(q.a,{type:"text",placeholder:"Search",onChange:function(e){return j(e.target.value)},className:"mr-sm-1"}),Object(N.jsx)(A.a,{type:"submit",onClick:function(e){return function(e){e.preventDefault(),console.log("HandleSearch",u),u.startsWith("tt")?(console.log("starts with tt"),B(b,u).then((function(){return r.push("/search?s=".concat(u))})).catch((function(e){return r.push("/error")}))):(console.log("starts with Name"),H(b,u).then((function(){return r.push("/search?i=".concat(u))})).catch((function(){return r.push("/error")})))}(e)},style:{margin:"0 auto"},children:"Submit"})]})]})]})})})}function W(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return console.log(e.movie.movie),e.movie.movie}));Object(n.useEffect)((function(){G(t)}),[]);var a=E.a.Meta;return Object(N.jsxs)("div",{className:"main-div container",children:[Object(N.jsx)(V,{}),c.map((function(e){return Object(N.jsx)("div",{style:{display:"inline-block",width:"20%",maxHeight:"30%",padding:"15px"},className:"director-details",children:Object(N.jsx)(E.a,{className:"directorcontainer1",cover:Object(N.jsx)("img",{className:"container photo director-border",alt:"example",src:e.Poster}),actions:[Object(N.jsx)(F.b,{to:"/directorsearch",children:Object(N.jsx)(T.a,{},"search")}),Object(N.jsx)(P.a,{className:"trashicon",icon:Y.a,intent:"warning",marginRight:Object(_.a)(0)}),Object(N.jsx)(D.a,{},"ellipsis")],children:Object(N.jsx)(a,{title:e.Title,description:"Release Year- ".concat(e.Year)})})})}))]})}function z(e){Object(o.b)();var t=Object(O.f)(),c=Object(o.c)((function(e){return console.log(e.movie.movie),e.movie.movie}));console.log("Search Movies ",c);var n=E.a.Meta;return Object(N.jsxs)("div",{className:"main-div container",children:[Object(N.jsx)(V,{}),null===c?t.push("/error"):c.map((function(e){return Object(N.jsx)("div",{className:"director-details",children:Object(N.jsx)(E.a,{className:"directorcontainer1",style:{display:"inline-block",float:"left",width:"20%",maxHeight:"30%",padding:"8px"},cover:Object(N.jsx)("img",{className:"container photo director-border",alt:"example",src:e.Poster}),actions:[Object(N.jsx)(F.b,{to:"/directorsearch",children:Object(N.jsx)(T.a,{},"search")}),Object(N.jsx)(P.a,{className:"trashicon",icon:Y.a,intent:"warning",marginRight:Object(_.a)(0)}),Object(N.jsx)(D.a,{},"ellipsis")],children:Object(N.jsx)(n,{title:e.Title,description:"Release Year- ".concat(e.Year)})})})}))]})}var K=c.p+"static/media/2480259.d4c3e7e9.jpg";function Q(){var e=Object(O.f)();return Object(N.jsx)("div",{children:Object(N.jsx)("img",{onClick:function(){return e.push("/")},style:{width:"63%",cursor:"pointer",margin:"auto 17%"},src:K,alt:""})})}var X=function(){return Object(N.jsx)(o.a,{store:M,children:Object(N.jsx)(F.a,{children:Object(N.jsxs)(O.c,{children:[Object(N.jsx)(O.a,{exact:!0,path:"/",component:S}),Object(N.jsx)(O.a,{exact:!0,path:"/error",component:Q}),Object(N.jsx)(O.a,{exact:!0,path:"/search",component:z}),Object(N.jsx)(O.a,{exact:!0,path:"/homepage",component:W})]})})})},Z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,290)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(X,{})}),document.getElementById("root")),Z()},72:function(e,t,c){}},[[245,1,2]]]);
//# sourceMappingURL=main.b4c95947.chunk.js.map